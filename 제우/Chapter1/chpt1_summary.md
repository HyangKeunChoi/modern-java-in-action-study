# 1. 자바 8,9,10,11: 무슨이 일이 일어나고 있는가?
  ## 1.1 역사의 흐름은 무엇인가?
  - 자바 8에서는 이전의 자바에 비해 생산성이 크게 향상되었다.
  - 예를 들어, 사과목록을 무게순으로 정렬하는 코드가 있다고 하자
    Collections.sort(inventory, new Comparator<Apple>){
      public int compare(Apple a1, Apple2) {
        return a1.getWeight().compareTo(a2.getWeight());
      }
    });
    위 코드를 자바8의 새로운 기능을 이용하면 다음과 같이 코드를 간략하게 작성할 수 있다.
    inventory.sort(comparing(Apple::getWeight));
    ::은 약속된 키워드로 메소드참조(뒤에 나옴)시 사용하는 키워드이다.

  - 자바8에서는 병렬 실행을 단순한 방법(공짜)으로 구현할 수 있다.
  - 스트림API
    스트림은 비용이 비싼 synchronized키워드를 사용하지 않아도 된다.
  - 메서드에 코드(함수..?)를 전달하는 기법
    메소드참조와 람다가 이에 해당
    동작 파라미터화를 간결하게 구현할 수 있다.
  - 인터페이스의 디폴트 메소드

  ## 1.2.2 스트림처리
  - 스트림이란?
    스트림: 한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임
    유닉스와 C의 stdin, 자바의 System.in(입력스트림) / stdout, System.out(출력스트림)
    유닉스의 파이프라인(|)은 병렬로 실행할 수 있는 도구를 제공

  ## 1.2.4 병령성과 공유 가변 데이터
  - 공유 가변 데이터란?
    병렬성을 유지하면서 안전한 코드를 만드려면 공유된 가변 데이터에 접근하는 것을 제한해야 한다.
    이러한 함수를 순수함수, 부작용 없는 함수, 상태없는 함수라고 부른다.
    기존의 synchronized키워드를 이용해 공유가변데이터를 보호하는 규칙을 만들수 있겠지만, 자바8에서는 스트림을 이용하여 병렬성을 구현할 수 있다.

# 1.3 자바 함수
  # 1.3.1 메서드와 람다를 일급 시민으로
  - 일급 값(시민)이란 객체, 변수와 같이 변화, 인자로 넘길 수 있는 값을 의미
  - 메서드는 전형적인 이급 값(시민)이었다.(자바8에서는 일급 값으로 취급할 수 있다. 어떻게? 메서드 참조라는 개념의 등장으로)
    File[] hideenFiles = new File(".).listFiles(File::isHidden);
    위 코드는 isHidden함수를 listFiles메소드의 인자로 넘겨주는 메소드 참조를 이용한 코드이다.
  - 또 다른 방법은 람다:익명함수를 이용한 방법이다.
    자바8에서는 메소드를 일급값으로 취급할 뿐 아니라 람다를 포함하여 함수도 값으로 취급할 수 있다.
    ex. (int x) -> x+1
  
# 1.4 스트림
- 컬렉션에서는 반복 과정을 직접 처리해야 했다. 즉 반복문을 이용해서 각 요소를 반복하며 작업을 수행하였다. (외부 반복이라고 한다.)
- 스트림 API에서는 라이브러리 내부에서 모든 데이터가 처리된다. (내부 반복이라고 한다.)
- 컬렉션을 이용했을 때는 수행시간 문제도 발생할 수 있다. 예를 들어, 많은 요소를 가진 목록을 반복한다면 시간이 오래 걸릴 수 있다.
  
  ## 1.4.1 멀티스레딩은 어렵다
  - 이전 자바  버전에서 제공하는 스레드 API로 멀티스레딩 코드를 구현해서 병렬성을 이용하는 것은 쉽지 않다.
  - 공유된 데이터를 제한을 잘 못하면 원치않은 방향으로 프로그램의 흐름이 이어질 수 있다. (criticalsection control문제..?)
  - 자바8은 스트림 API를 제공하여 컬렉션을 처리하면서 발생하는 모호함과 반복적인 코드문제, 그리고 멀티코어 활용 어려움이라는 두 가지 문제를 모두 해결했다.
  - 기존의 컬렉션은 데이터를 처리할 때 반복되는 패턴이 너무 많았다.
  - 스트림 API에서는 반복되는 패턴에 따라 데이터를 필터링, 추출, 그룹화 하는 기능을 제공한다.(반복 패턴 제거)
  - 또한, 이러한 동작들을 쉽게 병렬화 할 수 있는 기능도 제공한다.
    예를 들어, 두CPU중 하나의 CPU는 리스트의 앞부분을 처리하고, 또 다른 CPU는 리스트의 둣부분을 처리하도록 요청할 수 있다.(유닉스의 파이프라인도 동일 동작을 하는가?)
    마지막으로 하나의 CPU가 두 결과를 정리하여 병합한다. (구글 검색도 이와 같은 방식으로 작동하여 빠른 결과를 제공한다.)
  - 컬렉션은 어떻게 데이터를 저장하고 접근할지 / 스트림은 데이터에 어떤 계산을 할 지 묘사하는 것에 중점을 둔다는 점이 차이점이다.

## 1.5 디폴트 메서드와 자바 모듈
- 자바8이전 버전에서 인터페이스를 바꿔야 하는 상황에서는 해당 인터페이스를 구현한 모든 클래스를 변경해야 하는 아주아주 비효율적인 작업이 뒤따랐다.
- 자바8은 이러한 문제를 해결하기 위해 디폴트 메소드를 제공한다.
- default void sort() {} 와 같이 default키워드를 이용하여 디폴트 메소드를 정의한다.
